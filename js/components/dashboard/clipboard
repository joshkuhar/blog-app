class EssayForm extends React.Component {
  // constructor(props) {
  //   super(props);

  //   this.handleChange = this.handleChange.bind(this);
  //   this.handleSubmit = this.handleSubmit.bind(this);
  // }

  handleChange(event) {
    this.props.dispatch(actions.saveText(event.target.value));
  }

  handleSubmit(event) {
    event.preventDefault();
    var line = this.props.text;
    console.log(line);

	// var newLine = line.split("/n").map(function(item, index) {
	//   return (
	//     <span key={index}>
	//       {item}
	//       <br/>
	//     </span>
	//   )
	// })
 //    this.setState({line: newLine});
 //    console.log(newLine);
    
    //this.setState({value: line})
  }

  render() {
    return (
	    <div>
	      <form onSubmit={this.handleSubmit}>
	        <label>
	          Name:
	          <textarea className="textareax"value={this.props.text} onChange={this.handleChange.bind(this)} />

	        </label>
	        <input type="submit" value="Submit" />
	      </form>
	      <div className="output">{this.props.text}</div>
	     </div>
    );
  }
}

// module.exports = EssayForm;

var mapStateToProps = function(state, props) {
    return {
        text: state.text
    };
};

var Container = connect(mapStateToProps)(EssayForm);

module.exports = Container;